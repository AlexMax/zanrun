// Flags for starting and ending timer

ACTOR STR_StartFlag : CustomInventory 5130 {
	Radius 20
	Height 16
	States {
	Spawn:
		BFLA ABC 3
		BFLA DEF 3 BRIGHT
		Loop
	Pickup:
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 ACS_ExecuteAlways(219, 0, 0)
		fail
	}
}

ACTOR STR_EndFlag : CustomInventory 5131 {
	Radius 20
	Height 16
	States {
	Spawn:
		WFLA ABC 3
		WFLA DEF 3 BRIGHT
		Loop
	Pickup:
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 ACS_ExecuteAlways(221, 0, 0)
		fail
	}
}

// Health

ACTOR STR_HealthBonus : CustomInventory 2014 {
	Game Doom
	States {
	Spawn:
		BON1 ABCDCB 6
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfHealthLower(200, "YesPickup")
		fail
	YesPickup:
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("HealthBonus")
		fail
	}
}
	
ACTOR STR_Stimpack : CustomInventory 2011 {
	Game Doom
	States {
	Spawn:
		STIM A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfHealthLower(100, "YesPickup")
		fail
	YesPickup:
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("Stimpack")
		fail
	}
}

ACTOR STR_Medikit : CustomInventory 2012 {
	Game Doom
	States {
	Spawn:
		MEDI A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfHealthLower(100, "YesPickup")
		fail
	YesPickup:
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("Medikit")
		fail
	}
}

// Armor

Actor STR_ArmorBonus : CustomInventory 2015 {
	Game Doom
	States {
	Spawn:
		BON2 ABCDCB 6
		loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, 4)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("ArmorBonus")
		TNT1 A 0
		fail
	}
}

Actor STR_GreenArmor : CustomInventory 2018 {
	Game Doom
	States {
	Spawn:
		ARM1 A 6
		ARM1 B 7 bright
		loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 100, 4)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("GreenArmor")
		TNT1 A 0
		fail
	}
}

Actor STR_BlueArmor : CustomInventory 2019 {
	Game Doom
	States {
	Spawn:
		ARM2 A 6
		ARM2 B 6 bright
		loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, 4)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("BlueArmor")
		TNT1 A 0
		fail
	}
}

// Powerups

ACTOR STR_Soulsphere : CustomInventory 2013 {
	Game Doom
	States {
	Spawn:
		SOUL ABCDCB 6 Bright
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfHealthLower(200, "YesPickup")
		fail
	YesPickup:
		TNT1 A 0 A_PlaySound("misc/p_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("Soulsphere")
		fail
	}
}

ACTOR STR_Megasphere : CustomInventory 83 {
	Game Doom
	States {
	Spawn:
		MEGA ABCD 6 BRIGHT
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfHealthLower(200, "FinallyPickup")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "NoPickup")
		TNT1 A 0 A_Jump(256, "FinallyPickup")
		fail
	NoPickup:
		TNT1 A 0
		fail
	FinallyPickup:
		TNT1 A 0 A_GiveInventory("Megasphere")
		TNT1 A 0 A_PlaySound("misc/p_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0
		fail
	}
}

ACTOR STR_InvulnerabilitySphere : CustomInventory 2022 {
	Game Doom
	States {
	Spawn:
		PINV ABCD 6 Bright
		Loop
	Pickup:
		TNT1 A 0 A_PlaySound("misc/p_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("InvulnerabilitySphere")
		fail
	}
}

// Actual Powerups - Taken verbatim from Skulltag 98a
// Need this, or else new invul. effect won't take the place of old

ACTOR InvulnerabilitySphere : PowerupGiver {
	Game Doom
	SpawnID 133
	+COUNTITEM
	+NOGRAVITY
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.BIGPOWERUP
	Inventory.MaxAmount 0
	Powerup.Type Invulnerable
	Powerup.Color 255 255 255 0.125
	Inventory.PickupMessage "$GOTINVUL"
	Inventory.PickupAnnouncerEntry "invulnerability"
	States {
	Spawn:
		PINV ABCD 6 Bright
		Loop
	}
}

// Weapons

ACTOR STR_Pistol : CustomInventory 5010 {
	Game Doom
	Radius 20
	Height 16
	States {
 	Spawn:
		PIST A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Pistol", 1, 6)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("Pistol")
		TNT1 A 0 A_TakeInventory("Clip", 99999)
		TNT1 A 0 A_GiveInventory("Clip", 10)
		TNT1 A 0
		fail
	}
}

ACTOR Chainsaw : CustomInventory 2005 {
	Game Doom
	States {
	Spawn:
		CSAW A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Chainsaw", 1, 4)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("Chainsaw")
		TNT1 A 0
		fail
	}
}

ACTOR STR_Shotgun : CustomInventory 2001 {
	Game Doom
	States {
	Spawn:
		SHOT A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Shotgun", 1, 6)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("Shotgun")
		TNT1 A 0 A_TakeInventory("Shell", 99999)
		TNT1 A 0 A_GiveInventory("Shell", 10)
		TNT1 A 0
		fail
	}
}

ACTOR STR_SuperShotgun : CustomInventory 82 {
	Game Doom
	States {
	Spawn:
		SGN2 A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SuperShotgun", 1, 6)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("SuperShotgun")
		TNT1 A 0 A_TakeInventory("Shell", 99999)
		TNT1 A 0 A_GiveInventory("Shell", 10)
		TNT1 A 0
		fail
	}
}

ACTOR STR_Chaingun : CustomInventory 2002 {
	Game Doom
	States {
	Spawn:
		MGUN A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Chaingun", 1, 6)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("Chaingun")
		TNT1 A 0 A_TakeInventory("Clip", 99999)
		TNT1 A 0 A_GiveInventory("Clip", 10)
		TNT1 A 0
		fail
	}
}

ACTOR STR_RocketLauncher : CustomInventory 2003 {
	Game Doom
	States {
	Spawn:
		LAUN A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("RocketLauncher", 1, 6)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("RocketLauncher")
		TNT1 A 0 A_TakeInventory("RocketAmmo", 99999)
		TNT1 A 0 A_GiveInventory("RocketAmmo", 10)
		TNT1 A 0
		fail
	}
}

ACTOR STR_PlasmaRifle : CustomInventory 2004 {
	Game Doom
	States {
	Spawn:
		PLAS A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("PlasmaRifle", 1, 6)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("PlasmaRifle")
		TNT1 A 0 A_TakeInventory("Cell", 99999)
		TNT1 A 0 A_GiveInventory("Cell", 40)
		TNT1 A 0
		fail
	}
}

ACTOR STR_BFG9000 : CustomInventory 2006 {
	Game Doom
	Height 20
	States {
	Spawn:
		BFUG A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BFG9000", 1, 6)
		TNT1 A 0 A_PlaySound("misc/w_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_GiveInventory("BFG9000")
		TNT1 A 0 A_TakeInventory("Cell", 99999)
		TNT1 A 0 A_GiveInventory("Cell", 40)
		TNT1 A 0
		fail
	}
}

// Ammo - Taken verbatim from Skulltag 98a

ACTOR Clip : Ammo {
	Game Doom
	SpawnID 11
	Inventory.PickupMessage "$GOTCLIP"
	Inventory.Amount 10
	Inventory.MaxAmount 200
	Ammo.BackpackAmount 10
	Ammo.BackpackMaxAmount 400
	Inventory.Icon "CLIPA0"
	+INVENTORY.IGNORESKILL
	States {
	Spawn:
		CLIP A -1
		Stop
	}
}

ACTOR RocketAmmo : Ammo {
	Game Doom
	SpawnID 140
	Inventory.PickupMessage "$GOTROCKET"
	Inventory.Amount 1
	Inventory.MaxAmount 50
	Ammo.BackpackAmount 1
	Ammo.BackpackMaxAmount 100
	Inventory.Icon "ROCKA0"
	+INVENTORY.IGNORESKILL
	States {
	Spawn:
		ROCK A -1
		Stop
	}
}

ACTOR Cell : Ammo {
	Game Doom
	SpawnID 75
	Inventory.PickupMessage "$GOTCELL"
	Inventory.Amount 20
	Inventory.MaxAmount 300
	Ammo.BackpackAmount 20
	Ammo.BackpackMaxAmount 600
	Inventory.Icon "CELLA0"
	+INVENTORY.IGNORESKILL
	States {
	Spawn:
		CELL A -1
		Stop
	}
}

ACTOR Shell : Ammo {
	Game Doom
	SpawnID 12
	Inventory.PickupMessage "$GOTSHELLS"
	Inventory.Amount 4
	Inventory.MaxAmount 50
	Ammo.BackpackAmount 4
	Ammo.BackpackMaxAmount 100
	Inventory.Icon "SHELA0"
	+INVENTORY.IGNORESKILL
	States {
	Spawn:
		SHEL A -1
		Stop
	}
}

// Ammo Boxes

ACTOR STR_Clip : CustomInventory 2007 {
	Game Doom
	States {
	Spawn:
		CLIP A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Clip", 10, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("Clip", 99999)
		TNT1 A 0 A_GiveInventory("Clip", 10)
		TNT1 A 0
		fail
	}
}

ACTOR STR_ClipBox : CustomInventory 2048 {
	Game Doom
	States {
	Spawn:
		AMMO A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Clip", 200, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("Clip", 99999)
		TNT1 A 0 A_GiveInventory("Clip", 200)
		TNT1 A 0
		fail
	}
}

ACTOR STR_RocketAmmo : CustomInventory 2010 {
	Game Doom
	States {
	Spawn:
		ROCK A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("RocketAmmo", 10, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("RocketAmmo", 99999)
		TNT1 A 0 A_GiveInventory("RocketAmmo", 10)
		TNT1 A 0
		fail
	}
}

ACTOR STR_RocketBox : CustomInventory 2046 {
	Game Doom
	States {
	Spawn:
		BROK A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("RocketAmmo", 50, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("RocketAmmo", 99999)
		TNT1 A 0 A_GiveInventory("RocketAmmo", 50)
		TNT1 A 0
		fail
	}
}

ACTOR STR_Cell : CustomInventory 2047 {
	Game Doom
	States {
	Spawn:
		CELL A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Cell", 40, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("Cell", 99999)
		TNT1 A 0 A_GiveInventory("Cell", 40)
		TNT1 A 0
		fail
	}
}

ACTOR STR_CellPack : CustomInventory 17 {
	Game Doom
	Inventory.Amount 100
	States {
	Spawn:
		CELP A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Cell", 300, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("Cell", 99999)
		TNT1 A 0 A_GiveInventory("Cell", 300)
		TNT1 A 0
		fail
	}
}

ACTOR STR_Shell : CustomInventory 2008 {
	Game Doom
	States {
	Spawn:
		SHEL A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Shell", 10, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("Shell", 99999)
		TNT1 A 0 A_GiveInventory("Shell", 10)
		TNT1 A 0
		fail
	}
}

ACTOR STR_ShellBox : CustomInventory 2049 {
	Game Doom
	States {
	Spawn:
		SBOX A -1
		Stop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("Shell", 50, 5)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_TakeInventory("Shell", 99999)
		TNT1 A 0 A_GiveInventory("Shell", 50)
		TNT1 A 0
		fail
	}
}

ACTOR STR_Backpack : CustomInventory 8 {
	Game Doom
	Height 26
	States {
	Spawn:
		BPAK A -1
		Stop
	Pickup:
		// Backpack + checks
		TNT1 A 0 A_JumpIfInventory("Clip", 400, 5)
		TNT1 A 0 A_GiveInventory("Backpack")
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_Jump(256,15)
		TNT1 A 0 A_JumpIfInventory("Shell", 100, 5)
		TNT1 A 0 A_GiveInventory("Backpack")
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_Jump(256,10)
		TNT1 A 0 A_JumpIfInventory("RocketAmmo", 100, 5)
		TNT1 A 0 A_GiveInventory("Backpack")
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0 A_Jump(256,5)
		TNT1 A 0 A_JumpIfInventory("Cell", 600, 4)
		TNT1 A 0 A_GiveInventory("Backpack")
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		// Clip
		TNT1 A 0 A_JumpIfInventory("Clip", 400, 5)
		TNT1 A 0 A_TakeInventory("Clip", 400) //was 99999
		TNT1 A 0 A_GiveInventory("Clip", 400)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		// Shell
		TNT1 A 0 A_JumpIfInventory("Shell", 100, 5)
		TNT1 A 0 A_TakeInventory("Shell", 100)
		TNT1 A 0 A_GiveInventory("Shell", 100)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		// Rocket
		TNT1 A 0 A_JumpIfInventory("RocketAmmo", 100, 5)
		TNT1 A 0 A_TakeInventory("RocketAmmo", 100)
		TNT1 A 0 A_GiveInventory("RocketAmmo", 100)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		// Cell
		TNT1 A 0 A_JumpIfInventory("Cell", 600, 5)
		TNT1 A 0 A_TakeInventory("Cell", 600)
		TNT1 A 0 A_GiveInventory("Cell", 600)
		TNT1 A 0 A_PlaySound("misc/i_pkup")
		TNT1 A 0 ACS_ExecuteAlways(305)
		TNT1 A 0
		fail
	}
}

// Actual Weapons - Taken verbatim from Skulltag 98a
// Need this, or else the existing weapons won't 'pick up' on the ammo.

ACTOR Pistol : DoomWeapon {
	Game Doom
	Weapon.SelectionOrder 1900
	Weapon.AmmoUse 1
	Weapon.AmmoGive 20
	Weapon.AmmoType "Clip"
	Obituary "$OB_MPPISTOL"
	+WEAPON.WIMPY_WEAPON
	+WEAPON.ALLOW_WITH_RESPAWN_INVUL
	Inventory.Pickupmessage "$PICKUP_PISTOL_DROPPED"
	Radius 20
	Height 16
	Attacksound "weapons/pistol"
	States {
	Ready:
		PISG A 1 A_WeaponReady
		Loop
	Deselect:
		PISG A 1 A_Lower
		Loop
	Select:
		PISG A 1 A_Raise
		Loop
	Fire:
		PISG A 4
		PISG B 6 A_FirePistol
		PISG C 4
		PISG B 5 A_ReFire
		Goto Ready
	Flash:
		PISF A 7 Bright A_Light1
		Goto LightDone
		PISF A 7 Bright A_Light1
		Goto LightDone
 	Spawn:
		PIST A -1
		Stop
	}
}

ACTOR Chainsaw : Weapon {
	Game Doom
	SpawnID 32
	Weapon.Kickback 0
	Weapon.SelectionOrder 2200
	Weapon.UpSound "weapons/sawup"
	Weapon.ReadySound "weapons/sawidle"
	Inventory.PickupMessage "$GOTCHAINSAW"
	Obituary "$OB_MPCHAINSAW"
	+WEAPON.MELEEWEAPON		
	+WEAPON.ALLOW_WITH_RESPAWN_INVUL
	States {
	Ready:
		SAWG CD 4 A_WeaponReady
		Loop
	Deselect:
		SAWG C 1 A_Lower
		Loop
	Select:
		SAWG C 1 A_Raise
		Loop
	Fire:
		SAWG AB 4 A_Saw
		SAWG B 0 A_ReFire
		Goto Ready
	Spawn:
		CSAW A -1
		Stop
	}
}
	
ACTOR Shotgun : DoomWeapon {
	Game Doom
	SpawnID 27
	Weapon.SelectionOrder 1300
	Weapon.AmmoUse 1
	Weapon.AmmoGive 8
	Weapon.AmmoType "Shell"
	Inventory.PickupMessage "$GOTSHOTGUN"
	Obituary "$OB_MPSHOTGUN"
	Attacksound "weapons/shotgf"
	States {
	Ready:
		SHTG A 1 A_WeaponReady
		Loop
	Deselect:
		SHTG A 1 A_Lower
		Loop
	Select:
		SHTG A 1 A_Raise
		Loop
	Fire:
		SHTG A 3
		SHTG A 7 A_FireShotgun
		SHTG BC 5
		SHTG D 4
		SHTG CB 5
		SHTG A 3
		SHTG A 7 A_ReFire
		Goto Ready
	Flash:
		SHTF A 4 Bright A_Light1
		SHTF B 3 Bright A_Light2
		Goto LightDone
	Spawn:
		SHOT A -1
		Stop
	}
}	

ACTOR SuperShotgun : DoomWeapon {
	Game Doom
	SpawnID 33
	Weapon.SelectionOrder 400
	Weapon.AmmoUse 2
	Weapon.AmmoGive 8
	Weapon.AmmoType "Shell"
	Inventory.PickupMessage "$GOTSHOTGUN2"
	Obituary "$OB_MPSSHOTGUN"
	Attacksound "weapons/sshotf"
	States {
	Ready:
		SHT2 A 1 A_WeaponReady
		Loop
	Deselect:
		SHT2 A 1 A_Lower
		Loop
	Select:
		SHT2 A 1 A_Raise
		Loop
	Fire:
		SHT2 A 3
		SHT2 A 7 A_FireShotgun2
		SHT2 B 7
		SHT2 C 7 A_CheckReload
		SHT2 D 7 A_OpenShotgun2
		SHT2 E 7
		SHT2 F 7 A_LoadShotgun2
		SHT2 G 6
		SHT2 H 6 A_CloseShotgun2
		SHT2 A 5 A_ReFire
		Goto Ready
	// unused states
		SHT2 B 7
		SHT2 A 3
		Goto Deselect
	Flash:
		SHT2 I 4 Bright A_Light1
		SHT2 J 3 Bright A_Light2
		Goto LightDone
	Spawn:
		SGN2 A -1
		Stop
	}
}

ACTOR Chaingun : DoomWeapon {
	Game Doom
	SpawnID 28
	Weapon.SelectionOrder 700
	Weapon.AmmoUse 1
	Weapon.AmmoGive 20
	Weapon.AmmoType "Clip"
	Inventory.PickupMessage "$GOTCHAINGUN"
	Obituary "$OB_MPCHAINGUN"
	Attacksound "weapons/chngun"
	States {
	Ready:
		CHGG A 1 A_WeaponReady
		Loop
	Deselect:
		CHGG A 1 A_Lower
		Loop
	Select:
		CHGG A 1 A_Raise
		Loop
	Fire:
		CHGG AB 4 A_FireCGun
		CHGG B 0 A_ReFire
		Goto Ready
	Flash:
		CHGF A 5 Bright A_Light1
		Goto LightDone
		CHGF B 5 Bright A_Light2
		Goto LightDone
	Spawn:
		MGUN A -1
		Stop
	}
}

ACTOR RocketLauncher : DoomWeapon {
	Game Doom
	SpawnID 29
	Weapon.SelectionOrder 2500
	Weapon.AmmoUse 1
	Weapon.AmmoGive 2
	Weapon.AmmoType "RocketAmmo"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "$GOTLAUNCHER"
	States {
	Ready:
		MISG A 1 A_WeaponReady
		Loop
	Deselect:
		MISG A 1 A_Lower
		Loop
	Select:
		MISG A 1 A_Raise
		Loop
	Fire:
		MISG B 8 A_GunFlash
		MISG B 12 A_FireMissile
		MISG B 0 A_ReFire
		Goto Ready
	Flash:
		MISF A 3 Bright A_Light1
		MISF B 4 Bright
		MISF CD 4 Bright A_Light2
		Goto LightDone
	Spawn:
		LAUN A -1
		Stop
	}
}

ACTOR PlasmaRifle : DoomWeapon {
	Game Doom
	SpawnID 30
	Weapon.SelectionOrder 100
	Weapon.AmmoUse 1
	Weapon.AmmoGive 40
	Weapon.AmmoType "Cell"
	Inventory.PickupMessage "$GOTPLASMA"
	States {
	Ready:
		PLSG A 1 A_WeaponReady
		Loop
	Deselect:
		PLSG A 1 A_Lower
		Loop
	Select:
		PLSG A 1 A_Raise
		Loop
	Fire:
		PLSG A 3 A_FirePlasma
		PLSG B 20 A_ReFire
		Goto Ready
	Flash:
		PLSF A 4 Bright A_Light1
		Goto LightDone
		PLSF B 4 Bright A_Light1
		Goto LightDone
	Spawn:
		PLAS A -1
		Stop
	}
}

ACTOR BFG9000 : DoomWeapon {
	Game Doom
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 2800
	Weapon.AmmoUse 40
	Weapon.AmmoGive 40
	Weapon.AmmoType "Cell"
	+WEAPON.NOAUTOFIRE
	+WEAPON.NOLMS
	Inventory.PickupMessage "$GOTBFG9000"
	States {
	Ready:
		BFGG A 1 A_WeaponReady
		Loop
	Deselect:
		BFGG A 1 A_Lower
		Loop
	Select:
		BFGG A 1 A_Raise
		Loop
	Fire:
		BFGG A 20 A_BFGsound
		BFGG B 10 A_GunFlash
		BFGG B 10 A_FireBFG
		BFGG B 20 A_ReFire
		Goto Ready
	Flash:
		BFGF A 11 Bright A_Light1
		BFGF B 6 Bright A_Light2
		Goto LightDone
	Spawn:
		BFUG A -1
		Stop
	}
}